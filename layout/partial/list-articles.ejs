<%# 文章列表 %>

<%# 描述：这个文件负责展示页面所拥有的所有文章，如：具有同样标签的文章 %>
<%# 这个文件不接收参数%>

<article class="articles-list">
<% let posts = page.posts.sort("data", "desc") %>
<% for (let i = 0; i < posts.length; i++) { %>
    <% let p = posts.data[i] %>
    <article class="articles-list-item">
        <a href="<%- url_for(p.path) %>">
            <p class="item-title">
                <%= p.title || "Untitled" %>
            </p>
            <p class="item-content">
                <%# 优先使用摘要，否则使用文章内容 %>
                <% let content = "" %>
                <% if (strip_html(p.excerpt) === '') { %>
                    <%- truncate(strip_html(p.content), {length: 160, omission: "..." }); %>
                <% } else { %>
                    <%= truncate(strip_html(p.excerpt), {length: 160, omission: "..." }); %>
                <% } %>
                <%= content %>
            </p>
        </a>
    </article>
<% } %>
</article>
