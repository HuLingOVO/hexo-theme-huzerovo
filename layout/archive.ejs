<%# 这个文件以时间线的方式展示所有文章 %>
<%- partial("partial/topbar", {active: "archive"}) %>
<%- partial("partial/side-menu", {active: "archive"}) %>
<main>
    <div class = "center-container">
        <h1 class="page-title"><%= _p("archives") %></h1>
        <% var posts = site.posts.sort("date", "desc"); %>
        <% var p; var i = 0; var year = 0; %>
        <% for (i = 0; i < site.posts.length; i ++) { %>
            <% p = posts.data[i] %>
            <% if (p.date.year() !== year) { %>
                <% year = p.date.year(); %>
                <div class="page-archive-year"><%= year %></div>
            <% } %>
            <div class="page-archive-item" >
                <div class="page-archive-item-date"><%= p.date.format("MM-DD") %></div>
                <a href="<%- url_for(p.path) %>" class="page-archive-item-link"><%= p.title || "Untitled" %></a>
            </div>
        <% } %>
    </div>

</main>

